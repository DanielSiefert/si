[package]
name = "telemetry"
version = "0.1.0"
edition = "2021"
rust-version = "1.56"
publish = false

[features]

default = ["library"]

application = [
    "derive_builder",
    "opentelemetry-otlp",
    "opentelemetry-semantic-conventions",
    "tracing-opentelemetry",
    "tracing-subscriber",
]

library = [
    "async-trait",
]

[dependencies]
opentelemetry = { version = "0.18.0", features = ["rt-tokio", "trace"] }
thiserror = { version = "1.0" }
tokio = { version = "1.12.0", features = ["rt", "signal", "sync"] }
tracing = { version = "0.1" }

# library only
async-trait = { version = "0.1.51", optional = true }

# application only
derive_builder = { version = "0.11.2", optional = true }
opentelemetry-otlp = { version = "0.11.0", optional = true }
opentelemetry-semantic-conventions = { version = "0.10.0", optional = true }
tracing-opentelemetry = { version = "0.18.0", optional = true }
tracing-subscriber = { version = "0.3.11", optional = true, features = ['env-filter', 'std'] }
